<header class="text-center">
    <h1>{{ title }}</h1>
</header>

<main class="mt-5 d-flex flex-column w-75 m-auto justify-content-center">
    <div class="input-section">
      <div class="d-flex justify-content-center flex-row">
        <label for="upc-input">Enter UPC Code:</label>
          <input
            id="upc-input"
            class="form-control"
            type="text"
            [(ngModel)]="upcInput"
            placeholder="Enter 12-digit UPC code"
            maxlength="12"
            pattern="\d{12}"
          >
          <button (click)="lookupUpc()" [disabled]="isLoading" class="btn btn-primary">Lookup</button>
      </div>

      <div class="fs-5 text-center fw-bold">OR</div>

      <div class="d-flex flex-row justify-content-center">
        <label for="file-input" class="form-label">Scan Image</label>
          <input
            id="file-input"
            class="form-control"
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            [disabled]="isLoading"
          >
        <button
          class="camera-button btn btn-primary"
          onclick="document.getElementById('file-input').click()"
          [disabled]="isLoading"
        >
          ðŸ“· Use Camera
        </button>
      </div>
    </div>

    <div class="status" *ngIf="isLoading">
      <div class="spinner"></div>
      <p>Processing...</p>
    </div>

    <div class="error" *ngIf="errorMessage">
      <p>{{ errorMessage }}</p>
    </div>

    <div class="result" *ngIf="scanResult!">
      <h2>Product Information</h2>
      <div class="result-item">
        <span class="label">UPC:</span>
        <span class="value">{{ upcInput }}</span>
      </div>
      <div class="result-item">
        <span class="label">Manufacturer:</span>
        <span class="value">{{ scanResult!.manufacturer }}</span>
      </div>
      <div class="result-item">
        <span class="label">Country of Origin:</span>
        <span class="value">
          {{ getCountryEmoji(scanResult!.countryCode) }} {{ scanResult!.country }}
        </span>
      </div>
    </div>
</main>

